<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>

<form>
    <div class="container">
        <h1>Register</h1>
        <p>Please fill in this form to create an account.</p>
        <hr>

        <label for="email"><b>Email</b></label>
        <input type="text" placeholder="Enter Email" name="email" id="email" required>

        <label><b>Password</b></label>
        <input type="password" placeholder="Password" name="psw" id="psw" required>

        <hr>
        <p>By creating an account you agree to our <a href="#">Terms & Privacy</a>.</p>

        <button type="button" id="submitData" name="submitData">Register</button>
        <button type="button" id="login" name="login">Login</button>
        <button type="button" id="display" name="display">Display user email</button>
        <button type="button" id="logout" name="logout">Logout</button>
        
    </div>

    <div class="container signin">
        <p>Already have an account? <a href="#">Sign in</a>.</p>
    </div>
</form>

</body>

<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-app.js";
  import { getAuth } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-auth.js";
  import { createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-auth.js";
  import { signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-auth.js";
  import { signOut } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-auth.js";
  
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyAxWDlXFR9br7QQHvi0tppZtqU-D01DG2w",
    authDomain: "final-d699b.firebaseapp.com",
    projectId: "final-d699b",
    storageBucket: "final-d699b.appspot.com",
    messagingSenderId: "748093784551",
    appId: "1:748093784551:web:5345970c3397bd707afd42"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);



submitData.addEventListener('click',(e)=>{

    var email=document.getElementById('email').value;
    var password=document.getElementById('psw').value;
        createUserWithEmailAndPassword(auth, email, password)
  .then((userCredential) => {
    // Signed in 
    const user = userCredential.user;
    alert("User created successfully.");
    // ...
  })
  .catch((error) => {
    const errorCode = error.code;
    const errorMessage = error.message;
    // ..
  });

});


login.addEventListener('click',(e)=>{

     var email=document.getElementById('email').value;
    var password=document.getElementById('psw').value;

    signInWithEmailAndPassword(auth, email, password)
  .then((userCredential) => {
    // Signed in 
    const user = userCredential.user;
    alert("User signed in successfully.");
    // ...
  })
  .catch((error) => {
    const errorCode = error.code;
    const errorMessage = error.message;

    alert(errorMessage);
  });

    });




display.addEventListener('click',(e)=>{

     var email=document.getElementById('email').value;
    var password=document.getElementById('psw').value;

const user = auth.currentUser;
if (user !== null) {
  // The user object has basic properties such as display name, email, etc.
  
  const email = user.email;
 

  // The user's ID, unique to the Firebase project. Do NOT use
  // this value to authenticate with your backend server, if
  // you have one. Use User.getToken() instead.
 
  alert(email);
}
});




logout.addEventListener('click',(e)=>{

    signOut(auth).then(() => {
  // Sign-out successful.
  alert('User sign out successfully');
}).catch((error) => {
  // An error happened.
});

});








    
  
  



</script>


</html>
